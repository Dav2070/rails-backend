<!DOCTYPE html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1,shrink-to-fit=no"name=viewport><link href=source/bootstrap.min.css rel=stylesheet><script src=https://use.fontawesome.com/releases/v5.0.10/js/all.js crossorigin=anonymous defer integrity=sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+></script><title>Your Archive</title><div class=container><h1 class="mb-3 mt-2">Your Archive</h1><div class="mb-3 bg-light card"><div class=card-header>User details</div><div class=card-body><img alt="Card image cap"class=card-img-top src=files/avatar.png style=max-width:10rem><p class=card-text><table class=table><tr><th scope=row>Username<td id=username><tr><th scope=row>Email<td id=email><tr><th scope=row>New Email<td id=newEmail><tr><th scope=row>Old Email<td id=oldEmail><tr><th scope=row>Plan<td id=plan><tr><th scope=row>Created<td id=createdAt><tr><th scope=row>Last updated<td id=updatedAt></table></div></div><h2 class=my-3>Apps</h2><div class="list-group mb-5"id=appAccordion></div></div><script src=source/jquery.slim.min.js></script><script src=source/bootstrap.min.js></script><script>function processData(e){$("#username").text(e.user.username),$("#email").text(e.user.email),$("#newEmail").text(e.user.new_email),$("#oldEmail").text(e.user.old_email),0==e.user.plan?$("#plan").text("Free"):1==e.user.plan?$("#plan").text("Plus"):$("#plan").text(e.user.plan),$("#createdAt").text(new Date(e.user.created_at).toString()),$("#updatedAt").text(new Date(e.user.updated_at).toString()),e.apps.forEach(function(e,a,t){var i="";e.tables.forEach(function(e,a,t){var o="";e.table_objects.forEach(function(e,a,t){var r="";$.each(e.properties,function(e,a){r+="<tr><td>"+e+"</th><td>"+a+"</td></tr>"});var i="";if(e.file){var d=e.id+"."+e.properties.ext;i='<tr><td>File</th><td><a href="files/'+d+'" target="blank">'+d+"</a></td></tr>"}var l="";switch(e.visibility){case 0:l="private";break;case 1:l="protected";break;case 2:l="public";break;default:l="private"}var s='<div class="card m-3"><table class="table"><tbody><tr><td>ID</th><td>'+e.id+"</td></tr><tr><td>UUID</th><td>"+e.uuid+"</td></tr><tr><td>Visibility</th><td>"+l+"</td></tr>"+i+'<tr><th class="border-left-0 border-right-0">Properties: </th><td></td></tr>'+r+"</tbody></table></div>";o+=s});var r='<li class="list-group-item d-flex justify-content-between align-items-center" style="cursor: pointer;" id="table-header-'+e.id+'"data-toggle="collapse" data-target="#table-collapse-'+e.id+'" aria-expanded="false" aria-controls="table-collapse-'+e.id+'"><h4>'+e.name+'</h4><i class="fas fa-angle-down fa-2x"></i></li><div class="card"><div id="table-collapse-'+e.id+'" class="collapse" aria-labelledby="table-header-'+e.id+'" data-parent="#tableAccordion"><div class="card-body"><h5>Objects</h5>'+o+"</div></div></div>";i+=r});var r='<li class="list-group-item d-flex justify-content-between align-items-center" style="cursor: pointer;" id="app-header-'+e.id+'"data-toggle="collapse" data-target="#app-collapse-'+e.id+'" aria-expanded="false" aria-controls="app-collapse-'+e.id+'"><h4>'+e.name+'</h4><i class="fas fa-angle-down fa-2x"></i></li><div class="card"><div id="app-collapse-'+e.id+'" class="collapse" aria-labelledby="app-header-'+e.id+'" data-parent="#appAccordion"><div class="card-body"><div class="list-group" id="tableAccordion">'+i+"</div></div></div></div>";$("#appAccordion").append(r)})}function readTextFile(e,a){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET",e,!0),t.onreadystatechange=function(){"200"==t.status?a(t.responseText):alert("This browser is not supported. Please open the file with another browser.")},t.send(null)}$(document).ready(function(){var a=!1;readTextFile("data/data.json",function(e){a||(processData(JSON.parse(e)),a=!0)})})</script>